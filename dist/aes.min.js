!function(e,n){"object"==typeof exports?module.exports=n():"function"==typeof define&&define.amd?define(n):e.GibberishAES=n()}(this,function(){"use strict";var e=14,n=8,r=!1,f=function(e){try{return unescape(encodeURIComponent(e))}catch(n){throw"Error on UTF-8 encode"}},t=function(e){try{return decodeURIComponent(escape(e))}catch(n){throw"Bad Key"}},c=function(e){var n,r,f=[];for(e.length<16&&(n=16-e.length,f=[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n]),r=0;r<e.length;r++)f[r]=e[r];return f},a=function(e,n){var r,f,t="";if(n){if(r=e[15],r>16)throw"Decryption error: Maybe bad key";if(16===r)return"";for(f=0;16-r>f;f++)t+=String.fromCharCode(e[f])}else for(f=0;16>f;f++)t+=String.fromCharCode(e[f]);return t},o=function(e){var n,r="";for(n=0;n<e.length;n++)r+=(e[n]<16?"0":"")+e[n].toString(16);return r},u=function(e){var n=[];return e.replace(/(..)/g,function(e){n.push(parseInt(e,16))}),n},d=function(e,n){var r,t=[];for(n||(e=f(e)),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},i=function(r){switch(r){case 128:e=10,n=4;break;case 192:e=12,n=6;break;case 256:e=14,n=8;break;default:throw"Invalid Key Size Specified:"+r}},b=function(e){var n,r=[];for(n=0;e>n;n++)r=r.concat(Math.floor(256*Math.random()));return r},h=function(r,f){var t,c=e>=12?3:2,a=[],o=[],u=[],d=[],i=r.concat(f);for(u[0]=L(i),d=u[0],t=1;c>t;t++)u[t]=L(u[t-1].concat(i)),d=d.concat(u[t]);return a=d.slice(0,4*n),o=d.slice(4*n,4*n+16),{key:a,iv:o}},l=function(e,n,r){n=k(n);var f,t=Math.ceil(e.length/16),a=[],o=[];for(f=0;t>f;f++)a[f]=c(e.slice(16*f,16*f+16));for(e.length%16===0&&(a.push([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),t++),f=0;f<a.length;f++)a[f]=0===f?x(a[f],r):x(a[f],o[f-1]),o[f]=s(a[f],n);return o},v=function(e,n,r,f){n=k(n);var c,o=e.length/16,u=[],d=[],i="";for(c=0;o>c;c++)u.push(e.slice(16*c,16*(c+1)));for(c=u.length-1;c>=0;c--)d[c]=g(u[c],n),d[c]=0===c?x(d[c],r):x(d[c],u[c-1]);for(c=0;o-1>c;c++)i+=a(d[c],!1);return i+=a(d[c],!0),f?i:t(i)},s=function(n,f){r=!1;var t,c=C(n,f,0);for(t=1;e+1>t;t++)c=p(c),c=y(c),e>t&&(c=A(c)),c=C(c,f,t);return c},g=function(n,f){r=!0;var t,c=C(n,f,e);for(t=e-1;t>-1;t--)c=y(c),c=p(c),c=C(c,f,t),t>0&&(c=A(c));return c},p=function(e){var n,f=r?D:B,t=[];for(n=0;16>n;n++)t[n]=f[e[n]];return t},y=function(e){var n,f=[],t=r?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11];for(n=0;16>n;n++)f[n]=e[t[n]];return f},A=function(e){var n,f=[];if(r)for(n=0;4>n;n++)f[4*n]=z[e[4*n]]^R[e[1+4*n]]^j[e[2+4*n]]^F[e[3+4*n]],f[1+4*n]=F[e[4*n]]^z[e[1+4*n]]^R[e[2+4*n]]^j[e[3+4*n]],f[2+4*n]=j[e[4*n]]^F[e[1+4*n]]^z[e[2+4*n]]^R[e[3+4*n]],f[3+4*n]=R[e[4*n]]^j[e[1+4*n]]^F[e[2+4*n]]^z[e[3+4*n]];else for(n=0;4>n;n++)f[4*n]=U[e[4*n]]^E[e[1+4*n]]^e[2+4*n]^e[3+4*n],f[1+4*n]=e[4*n]^U[e[1+4*n]]^E[e[2+4*n]]^e[3+4*n],f[2+4*n]=e[4*n]^e[1+4*n]^U[e[2+4*n]]^E[e[3+4*n]],f[3+4*n]=E[e[4*n]]^e[1+4*n]^e[2+4*n]^U[e[3+4*n]];return f},C=function(e,n,r){var f,t=[];for(f=0;16>f;f++)t[f]=e[f]^n[r][f];return t},x=function(e,n){var r,f=[];for(r=0;16>r;r++)f[r]=e[r]^n[r];return f},k=function(r){var f,t,c,a,o=[],u=[],d=[];for(f=0;n>f;f++)t=[r[4*f],r[4*f+1],r[4*f+2],r[4*f+3]],o[f]=t;for(f=n;4*(e+1)>f;f++){for(o[f]=[],c=0;4>c;c++)u[c]=o[f-1][c];for(f%n===0?(u=m(M(u)),u[0]^=K[f/n-1]):n>6&&f%n===4&&(u=m(u)),c=0;4>c;c++)o[f][c]=o[f-n][c]^u[c]}for(f=0;e+1>f;f++)for(d[f]=[],a=0;4>a;a++)d[f].push(o[4*f+a][0],o[4*f+a][1],o[4*f+a][2],o[4*f+a][3]);return d},m=function(e){for(var n=0;4>n;n++)e[n]=B[e[n]];return e},M=function(e){var n,r=e[0];for(n=0;3>n;n++)e[n]=e[n+1];return e[3]=r,e},S=function(e,n){var r,f=[];for(r=0;r<e.length;r+=n)f[r/n]=parseInt(e.substr(r,n),16);return f},w=function(e){var n,r=[];for(n=0;n<e.length;n++)r[e[n]]=n;return r},I=function(e,n){var r,f;for(f=0,r=0;8>r;r++)f=1===(1&n)?f^e:f,e=e>127?283^e<<1:e<<1,n>>>=1;return f},O=function(e){var n,r=[];for(n=0;256>n;n++)r[n]=I(e,n);return r},B=S("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",2),D=w(B),K=S("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),U=O(2),E=O(3),F=O(9),R=O(11),j=O(13),z=O(14),G=function(e,n,r){var f,t=b(8),c=h(d(n,r),t),a=c.key,o=c.iv,u=[[83,97,108,116,101,100,95,95].concat(t)];return e=d(e,r),f=l(e,a,o),f=u.concat(f),T.encode(f)},H=function(e,n,r){var f=T.decode(e),t=f.slice(8,16),c=h(d(n,r),t),a=c.key,o=c.iv;return f=f.slice(16,f.length),e=v(f,a,o,r)},L=function(e){function n(e,n){return e<<n|e>>>32-n}function r(e,n){var r,f,t,c,a;return t=2147483648&e,c=2147483648&n,r=1073741824&e,f=1073741824&n,a=(1073741823&e)+(1073741823&n),r&f?2147483648^a^t^c:r|f?1073741824&a?3221225472^a^t^c:1073741824^a^t^c:a^t^c}function f(e,n,r){return e&n|~e&r}function t(e,n,r){return e&r|n&~r}function c(e,n,r){return e^n^r}function a(e,n,r){return n^(e|~r)}function o(e,t,c,a,o,u,d){return e=r(e,r(r(f(t,c,a),o),d)),r(n(e,u),t)}function u(e,f,c,a,o,u,d){return e=r(e,r(r(t(f,c,a),o),d)),r(n(e,u),f)}function d(e,f,t,a,o,u,d){return e=r(e,r(r(c(f,t,a),o),d)),r(n(e,u),f)}function i(e,f,t,c,o,u,d){return e=r(e,r(r(a(f,t,c),o),d)),r(n(e,u),f)}function b(e){for(var n,r=e.length,f=r+8,t=(f-f%64)/64,c=16*(t+1),a=[],o=0,u=0;r>u;)n=(u-u%4)/4,o=u%4*8,a[n]=a[n]|e[u]<<o,u++;return n=(u-u%4)/4,o=u%4*8,a[n]=a[n]|128<<o,a[c-2]=r<<3,a[c-1]=r>>>29,a}function h(e){var n,r,f=[];for(r=0;3>=r;r++)n=e>>>8*r&255,f=f.concat(n);return f}var l,v,s,g,p,y,A,C,x,k=[],m=S("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",8);for(k=b(e),y=m[0],A=m[1],C=m[2],x=m[3],l=0;l<k.length;l+=16)v=y,s=A,g=C,p=x,y=o(y,A,C,x,k[l+0],7,m[4]),x=o(x,y,A,C,k[l+1],12,m[5]),C=o(C,x,y,A,k[l+2],17,m[6]),A=o(A,C,x,y,k[l+3],22,m[7]),y=o(y,A,C,x,k[l+4],7,m[8]),x=o(x,y,A,C,k[l+5],12,m[9]),C=o(C,x,y,A,k[l+6],17,m[10]),A=o(A,C,x,y,k[l+7],22,m[11]),y=o(y,A,C,x,k[l+8],7,m[12]),x=o(x,y,A,C,k[l+9],12,m[13]),C=o(C,x,y,A,k[l+10],17,m[14]),A=o(A,C,x,y,k[l+11],22,m[15]),y=o(y,A,C,x,k[l+12],7,m[16]),x=o(x,y,A,C,k[l+13],12,m[17]),C=o(C,x,y,A,k[l+14],17,m[18]),A=o(A,C,x,y,k[l+15],22,m[19]),y=u(y,A,C,x,k[l+1],5,m[20]),x=u(x,y,A,C,k[l+6],9,m[21]),C=u(C,x,y,A,k[l+11],14,m[22]),A=u(A,C,x,y,k[l+0],20,m[23]),y=u(y,A,C,x,k[l+5],5,m[24]),x=u(x,y,A,C,k[l+10],9,m[25]),C=u(C,x,y,A,k[l+15],14,m[26]),A=u(A,C,x,y,k[l+4],20,m[27]),y=u(y,A,C,x,k[l+9],5,m[28]),x=u(x,y,A,C,k[l+14],9,m[29]),C=u(C,x,y,A,k[l+3],14,m[30]),A=u(A,C,x,y,k[l+8],20,m[31]),y=u(y,A,C,x,k[l+13],5,m[32]),x=u(x,y,A,C,k[l+2],9,m[33]),C=u(C,x,y,A,k[l+7],14,m[34]),A=u(A,C,x,y,k[l+12],20,m[35]),y=d(y,A,C,x,k[l+5],4,m[36]),x=d(x,y,A,C,k[l+8],11,m[37]),C=d(C,x,y,A,k[l+11],16,m[38]),A=d(A,C,x,y,k[l+14],23,m[39]),y=d(y,A,C,x,k[l+1],4,m[40]),x=d(x,y,A,C,k[l+4],11,m[41]),C=d(C,x,y,A,k[l+7],16,m[42]),A=d(A,C,x,y,k[l+10],23,m[43]),y=d(y,A,C,x,k[l+13],4,m[44]),x=d(x,y,A,C,k[l+0],11,m[45]),C=d(C,x,y,A,k[l+3],16,m[46]),A=d(A,C,x,y,k[l+6],23,m[47]),y=d(y,A,C,x,k[l+9],4,m[48]),x=d(x,y,A,C,k[l+12],11,m[49]),C=d(C,x,y,A,k[l+15],16,m[50]),A=d(A,C,x,y,k[l+2],23,m[51]),y=i(y,A,C,x,k[l+0],6,m[52]),x=i(x,y,A,C,k[l+7],10,m[53]),C=i(C,x,y,A,k[l+14],15,m[54]),A=i(A,C,x,y,k[l+5],21,m[55]),y=i(y,A,C,x,k[l+12],6,m[56]),x=i(x,y,A,C,k[l+3],10,m[57]),C=i(C,x,y,A,k[l+10],15,m[58]),A=i(A,C,x,y,k[l+1],21,m[59]),y=i(y,A,C,x,k[l+8],6,m[60]),x=i(x,y,A,C,k[l+15],10,m[61]),C=i(C,x,y,A,k[l+6],15,m[62]),A=i(A,C,x,y,k[l+13],21,m[63]),y=i(y,A,C,x,k[l+4],6,m[64]),x=i(x,y,A,C,k[l+11],10,m[65]),C=i(C,x,y,A,k[l+2],15,m[66]),A=i(A,C,x,y,k[l+9],21,m[67]),y=r(y,v),A=r(A,s),C=r(C,g),x=r(x,p);return h(y).concat(h(A),h(C),h(x))},T=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=e.split(""),r=function(e,r){var f,t,c=[],a="";Math.floor(16*e.length/3);for(f=0;f<16*e.length;f++)c.push(e[Math.floor(f/16)][f%16]);for(f=0;f<c.length;f+=3)a+=n[c[f]>>2],a+=n[(3&c[f])<<4|c[f+1]>>4],a+=void 0!==c[f+1]?n[(15&c[f+1])<<2|c[f+2]>>6]:"=",a+=void 0!==c[f+2]?n[63&c[f+2]]:"=";for(t=a.slice(0,64)+"\n",f=1;f<Math.ceil(a.length/64);f++)t+=a.slice(64*f,64*f+64)+(Math.ceil(a.length/64)===f+1?"":"\n");return t},f=function(n){n=n.replace(/\n/g,"");var r,f=[],t=[],c=[];for(r=0;r<n.length;r+=4)t[0]=e.indexOf(n.charAt(r)),t[1]=e.indexOf(n.charAt(r+1)),t[2]=e.indexOf(n.charAt(r+2)),t[3]=e.indexOf(n.charAt(r+3)),c[0]=t[0]<<2|t[1]>>4,c[1]=(15&t[1])<<4|t[2]>>2,c[2]=(3&t[2])<<6|t[3],f.push(c[0],c[1],c[2]);return f=f.slice(0,f.length-f.length%16)};return"function"==typeof Array.indexOf&&(e=n),{encode:r,decode:f}}();return{size:i,h2a:u,expandKey:k,encryptBlock:s,decryptBlock:g,Decrypt:r,s2a:d,rawEncrypt:l,rawDecrypt:v,dec:H,openSSLKey:h,a2h:o,enc:G,Hash:{MD5:L},Base64:T}}),function(){function e(e,n){var a=e[0],o=e[1],u=e[2],d=e[3];a=r(a,o,u,d,n[0],7,-680876936),d=r(d,a,o,u,n[1],12,-389564586),u=r(u,d,a,o,n[2],17,606105819),o=r(o,u,d,a,n[3],22,-1044525330),a=r(a,o,u,d,n[4],7,-176418897),d=r(d,a,o,u,n[5],12,1200080426),u=r(u,d,a,o,n[6],17,-1473231341),o=r(o,u,d,a,n[7],22,-45705983),a=r(a,o,u,d,n[8],7,1770035416),d=r(d,a,o,u,n[9],12,-1958414417),u=r(u,d,a,o,n[10],17,-42063),o=r(o,u,d,a,n[11],22,-1990404162),a=r(a,o,u,d,n[12],7,1804603682),d=r(d,a,o,u,n[13],12,-40341101),u=r(u,d,a,o,n[14],17,-1502002290),o=r(o,u,d,a,n[15],22,1236535329),a=f(a,o,u,d,n[1],5,-165796510),d=f(d,a,o,u,n[6],9,-1069501632),u=f(u,d,a,o,n[11],14,643717713),o=f(o,u,d,a,n[0],20,-373897302),a=f(a,o,u,d,n[5],5,-701558691),d=f(d,a,o,u,n[10],9,38016083),u=f(u,d,a,o,n[15],14,-660478335),o=f(o,u,d,a,n[4],20,-405537848),a=f(a,o,u,d,n[9],5,568446438),d=f(d,a,o,u,n[14],9,-1019803690),u=f(u,d,a,o,n[3],14,-187363961),o=f(o,u,d,a,n[8],20,1163531501),a=f(a,o,u,d,n[13],5,-1444681467),d=f(d,a,o,u,n[2],9,-51403784),u=f(u,d,a,o,n[7],14,1735328473),o=f(o,u,d,a,n[12],20,-1926607734),a=t(a,o,u,d,n[5],4,-378558),d=t(d,a,o,u,n[8],11,-2022574463),u=t(u,d,a,o,n[11],16,1839030562),o=t(o,u,d,a,n[14],23,-35309556),a=t(a,o,u,d,n[1],4,-1530992060),d=t(d,a,o,u,n[4],11,1272893353),u=t(u,d,a,o,n[7],16,-155497632),o=t(o,u,d,a,n[10],23,-1094730640),a=t(a,o,u,d,n[13],4,681279174),d=t(d,a,o,u,n[0],11,-358537222),u=t(u,d,a,o,n[3],16,-722521979),o=t(o,u,d,a,n[6],23,76029189),a=t(a,o,u,d,n[9],4,-640364487),d=t(d,a,o,u,n[12],11,-421815835),u=t(u,d,a,o,n[15],16,530742520),o=t(o,u,d,a,n[2],23,-995338651),a=c(a,o,u,d,n[0],6,-198630844),d=c(d,a,o,u,n[7],10,1126891415),u=c(u,d,a,o,n[14],15,-1416354905),o=c(o,u,d,a,n[5],21,-57434055),a=c(a,o,u,d,n[12],6,1700485571),d=c(d,a,o,u,n[3],10,-1894986606),u=c(u,d,a,o,n[10],15,-1051523),o=c(o,u,d,a,n[1],21,-2054922799),a=c(a,o,u,d,n[8],6,1873313359),d=c(d,a,o,u,n[15],10,-30611744),u=c(u,d,a,o,n[6],15,-1560198380),o=c(o,u,d,a,n[13],21,1309151649),a=c(a,o,u,d,n[4],6,-145523070),d=c(d,a,o,u,n[11],10,-1120210379),u=c(u,d,a,o,n[2],15,718787259),o=c(o,u,d,a,n[9],21,-343485551),e[0]=i(a,e[0]),e[1]=i(o,e[1]),e[2]=i(u,e[2]),e[3]=i(d,e[3])}function n(e,n,r,f,t,c){return n=i(i(n,e),i(f,c)),i(n<<t|n>>>32-t,r)}function r(e,r,f,t,c,a,o){return n(r&f|~r&t,e,r,c,a,o)}function f(e,r,f,t,c,a,o){return n(r&t|f&~t,e,r,c,a,o)}function t(e,r,f,t,c,a,o){return n(r^f^t,e,r,c,a,o)}function c(e,r,f,t,c,a,o){return n(f^(r|~t),e,r,c,a,o)}function a(n){/[\x80-\xFF]/.test(n)&&(n=unescape(encodeURI(n))),txt="";var r,f=n.length,t=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=n.length;r+=64)e(t,o(n.substring(r-64,r)));n=n.substring(r-64);var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<n.length;r++)c[r>>2]|=n.charCodeAt(r)<<(r%4<<3);if(c[r>>2]|=128<<(r%4<<3),r>55)for(e(t,c),r=0;16>r;r++)c[r]=0;return c[14]=8*f,e(t,c),t}function o(e){var n,r=[];for(n=0;64>n;n+=4)r[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return r}function u(e){for(var n="",r=0;4>r;r++)n+=b[e>>8*r+4&15]+b[e>>8*r&15];return n}function d(e){for(var n=0;n<e.length;n++)e[n]=u(e[n]);return e.join("")}function i(e,n){return e+n&4294967295}function i(e,n){var r=(65535&e)+(65535&n),f=(e>>16)+(n>>16)+(r>>16);return f<<16|65535&r}var b="0123456789abcdef".split("");md5=function(e){return d(a(e))},"5d41402abc4b2a76b9719d911017c592"!=md5("hello")}();